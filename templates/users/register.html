{% extends "base.html" %}
{% block title %}Test{% endblock %}
{% block content %}
{% load static %}
{% load crispy_forms_tags %}
</head>
<body>
<div class="pt-5 mt-5"></div>
<div class="pt-2 mt-2"></div>
  <h1 class="text-center">Ro'yxatdan o'tish</h1>
  <div class="container">
  <div class="row">
  <div class="col-6 offset-3">
  {% if messages %}
        <ul>
      {% for m in messages %}
        <li>{{ m }}</li>
      {% endfor %}
        </ul>
      {% endif %}

       <form method="post">
          {% csrf_token %}
          {{ form|crispy }}
          <button class="btn btn-outline-info" type="submit">Send</button>
        </form>

         <script>
  document.addEventListener("DOMContentLoaded", function () {

  const userType = document.getElementById("id_user_type");
  const schoolDiv = document.getElementById("div_id_school");
  const universityDiv = document.getElementById("div_id_university");

  function toggleFields() {
    if (!userType) return;

    if (userType.value === "teacher") {
      schoolDiv.style.display = "block";
      universityDiv.style.display = "none";
    } else if (userType.value === "student") {
      schoolDiv.style.display = "none";
      universityDiv.style.display = "block";
    }
  }

  toggleFields();
  userType.addEventListener("change", toggleFields);
});
</script>

  </div>
  </div>
  </div>
{% endblock%}